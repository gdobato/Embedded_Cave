//===============================================================================================================================
// includes
//===============================================================================================================================
#include "STM32F407_Reg.h"


//===============================================================================================================================
// externs
//===============================================================================================================================
extern void STM32F407_InitClock(void);


//===============================================================================================================================
// functions
//===============================================================================================================================
void STM32F407_InitCpu(void)
{
  /* set the flash wait state (5WS)*/
  FLASH_ACR = (5UL<<0) | (1UL<<8) | (1UL<<9) | (1UL<<10);

  /* Initialize the FPU: Enable CP10 and CP11. */
  CPACR |= 0x00F00000UL;

  /* Initialize the clock */
  STM32F407_InitClock();
}